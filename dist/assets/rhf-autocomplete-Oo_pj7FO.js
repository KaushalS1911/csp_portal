import{j as e,y as o,ae as fe,B as G,$ as me,af as I,r as W,e as U,I as ge,ag as he}from"./index-ylP9gOtX.js";import{a as v,C}from"./form-provider-BePwGsaR.js";import{U as je,a as _}from"./upload-avatar-p1mV0K83.js";import{F as R,T as D}from"./TextField-nL73yr2I.js";import{F as q}from"./FormControl-2yV5rP3p.js";import{I as ye}from"./InputLabel-RKiYc6q9.js";import{S as be}from"./Select-_rMe5vL_.js";import{C as J}from"./Checkbox-48k92ct7.js";import{C as ae}from"./Chip-bKHDEzge.js";import{F as $,f as ve}from"./FormControlLabel-Wp3NQ8oe.js";import{F as le}from"./FormLabel-cbNQzjey.js";import{F as Ce}from"./FormGroup-H6gerepD.js";import{S as Fe}from"./Switch-PMXVVRTC.js";import{E as Re}from"./editor-aS2o8UAE.js";import{S as Te}from"./Slider-MYejY6Ng.js";import{R as Se,a as we}from"./RadioGroup-NRE0RhDH.js";import{A as ee}from"./Autocomplete-dTg6AscC.js";function ke({name:n,...l}){const{control:a}=v();return e.jsx(C,{name:n,control:a,render:({field:c,fieldState:{error:u}})=>e.jsxs("div",{children:[e.jsx(je,{error:!!u,file:c.value,...l}),!!u&&e.jsx(R,{error:!0,sx:{px:2,textAlign:"center"},children:u.message})]})})}ke.propTypes={name:o.string};o.string;function Ie({name:n,multiple:l,helperText:a,...c}){const{control:u}=v();return e.jsx(C,{name:n,control:u,render:({field:t,fieldState:{error:p}})=>l?e.jsx(_,{multiple:!0,accept:{"image/*":[]},files:t.value,error:!!p,helperText:(!!p||a)&&e.jsx(R,{error:!!p,sx:{px:2},children:p?p==null?void 0:p.message:a}),...c}):e.jsx(_,{accept:{"image/*":[]},file:t.value,error:!!p,helperText:(!!p||a)&&e.jsx(R,{error:!!p,sx:{px:2},children:p?p==null?void 0:p.message:a}),...c})})}Ie.propTypes={helperText:o.string,multiple:o.bool,name:o.string};function Pe({name:n,native:l,maxHeight:a=220,helperText:c,children:u,PaperPropsSx:t,...p}){const{control:f}=v();return e.jsx(C,{name:n,control:f,render:({field:h,fieldState:{error:m}})=>e.jsx(D,{...h,select:!0,fullWidth:!0,SelectProps:{native:l,MenuProps:{PaperProps:{sx:{...!l&&{maxHeight:typeof a=="number"?a:"unset"},...t}}},sx:{textTransform:"capitalize"}},error:!!m,helperText:m?m==null?void 0:m.message:c,...p,children:u})})}Pe.propTypes={PaperPropsSx:o.object,children:o.node,helperText:o.object,maxHeight:o.number,name:o.string,native:o.bool};function De({name:n,chip:l,label:a,options:c,checkbox:u,placeholder:t,helperText:p,...f}){const{control:h}=v(),m=d=>{const i=c.filter(x=>d.includes(x.value));return!i.length&&t?e.jsx(G,{sx:{color:"text.disabled"},children:t}):l?e.jsx(G,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:i.map(x=>e.jsx(ae,{size:"small",label:x.label},x.value))}):i.map(x=>x.label).join(", ")};return e.jsx(C,{name:n,control:h,render:({field:d,fieldState:{error:i}})=>e.jsxs(q,{error:!!i,...f,children:[a&&e.jsxs(ye,{id:n,children:[" ",a," "]}),e.jsx(be,{...d,multiple:!0,displayEmpty:!!t,id:`multiple-${n}`,labelId:n,label:a,renderValue:m,children:c.map(x=>{const j=d.value.includes(x.value);return e.jsxs(fe,{value:x.value,children:[u&&e.jsx(J,{size:"small",disableRipple:!0,checked:j}),x.label]},x.value)})}),(!!i||p)&&e.jsx(R,{error:!!i,children:i?i==null?void 0:i.message:p})]})})}De.propTypes={checkbox:o.bool,chip:o.bool,helperText:o.object,label:o.string,name:o.string,options:o.array,placeholder:o.string};function Ae({name:n,helperText:l,...a}){const{control:c}=v();return e.jsx(C,{name:n,control:c,render:({field:u,fieldState:{error:t}})=>e.jsxs("div",{children:[e.jsx($,{control:e.jsx(J,{...u,checked:u.value}),...a}),(!!t||l)&&e.jsx(R,{error:!!t,children:t?t==null?void 0:t.message:l})]})})}Ae.propTypes={helperText:o.string,name:o.string};function He({row:n,name:l,label:a,options:c,spacing:u,helperText:t,sx:p,...f}){const{control:h}=v(),m=(d,i)=>d.includes(i)?d.filter(x=>x!==i):[...d,i];return e.jsx(C,{name:l,control:h,render:({field:d,fieldState:{error:i}})=>e.jsxs(q,{component:"fieldset",children:[a&&e.jsx(le,{component:"legend",sx:{typography:"body2"},children:a}),e.jsx(Ce,{sx:{...n&&{flexDirection:"row"},[`& .${ve.root}`]:{"&:not(:last-of-type)":{mb:u||0},...n&&{mr:0,"&:not(:last-of-type)":{mr:u||2}}},...p},children:c.map(x=>e.jsx($,{control:e.jsx(J,{checked:d.value.includes(x.value),onChange:()=>d.onChange(m(d.value,x.value))}),label:x.label,...f},x.value))}),(!!i||t)&&e.jsx(R,{error:!!i,sx:{mx:0},children:i?i==null?void 0:i.message:t})]})})}He.propTypes={helperText:o.string,label:o.string,name:o.string,options:o.array,row:o.bool,spacing:o.number,sx:o.object};const Ee=me(D)`
  input {
    text-align: center;
  }
`,Ve={TextFieldStyled:Ee},$e=n=>e.jsx(Ve.TextFieldStyled,{...n}),E={left:"ArrowLeft",right:"ArrowRight",backspace:"Backspace",home:"Home",end:"End"};function Me(n,l){return n<=0?[]:Array.from({length:n},l)}function Le(n,l,a){return n.map((c,u)=>l===u?a:c)}function te(n){return n.join("")}function ne(n,l){return[...n,l]}function Be(n,l,a){return n.reduce((c,u,t)=>{const{characters:p,restArrayMerged:f}=c;if(t<a)return{restArrayMerged:f,characters:ne(p,u)};const[h,...m]=f;return{restArrayMerged:m,characters:ne(p,h||"")}},{restArrayMerged:l,characters:[]}).characters}function Ne(n){return n.split("")}function se(n){const l=I.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return I.useInsertionEffect(()=>{l.current=n}),I.useCallback((...a)=>{var c;return(c=l.current)==null?void 0:c.call(l,...a)},[])}const Oe=()=>!0,Ue=I.forwardRef((n,l)=>{const{value:a="",length:c=4,autoFocus:u=!1,onChange:t,TextFieldsProps:p,onComplete:f,validateChar:h=Oe,className:m,onBlur:d,...i}=n,x=I.useRef(a),j=se(f),b=se(s=>{const r=s.slice(0,c);return{isCompleted:r.length===c,finalValue:r}}),{onPaste:k,onFocus:P,onKeyDown:M,className:oe,placeholder:L,onBlur:B,...ce}=p||{};I.useEffect(()=>{const{isCompleted:s,finalValue:r}=b(x.current);s&&j(r)},[c,j,b]);const T=Me(c,(s,r)=>({character:a[r]||"",inputRef:I.createRef()})),K=s=>T.findIndex(({inputRef:r})=>r.current===s),Q=()=>T.map(({character:s})=>s),X=(s,r)=>{const g=Le(Q(),s,r);return te(g)},ie=s=>{var r,g;(g=(r=T[s])==null?void 0:r.inputRef.current)==null||g.focus()},F=s=>{var r,g;(g=(r=T[s])==null?void 0:r.inputRef.current)==null||g.select()},Z=s=>{s+1!==c&&(T[s+1].character?F(s+1):ie(s+1))},Y=(s,r)=>typeof h!="function"?!0:h(s,r),ue=s=>{const r=K(s.target);if(r===0&&s.target.value.length>1){const{finalValue:H,isCompleted:N}=b(s.target.value);t==null||t(H),N&&(f==null||f(H)),F(H.length-1);return}const g=s.target.value[0]||"";let S=g;S&&!Y(S,r)&&(S="");const y=X(r,S);t==null||t(y);const{isCompleted:A,finalValue:w}=b(y);A&&(f==null||f(w)),S!==""?y.length-1<r?F(y.length):Z(r):g===""&&y.length<=r&&F(r-1)},re=s=>{s.preventDefault(),s.target.select(),P==null||P(s)},pe=s=>{const r=s.target,g=r.selectionStart,S=r.selectionEnd,y=K(r),A=g===0&&S===0;if(r.value===s.key)s.preventDefault(),Z(y);else if(E.backspace===s.key){if(!r.value)s.preventDefault(),F(y-1);else if(A){s.preventDefault();const w=X(y,"");t==null||t(w),w.length<=y&&F(y-1)}}else E.left===s.key?(s.preventDefault(),F(y-1)):E.right===s.key?(s.preventDefault(),F(y+1)):E.home===s.key?(s.preventDefault(),F(0)):E.end===s.key&&(s.preventDefault(),F(T.length-1));M==null||M(s)},de=s=>{s.preventDefault();const r=s.clipboardData.getData("text/plain"),g=s.target,S=T.findIndex(({character:V,inputRef:O})=>V===""||O.current===g),y=Q(),A=Be(y,Ne(r),S).map((V,O)=>Y(V,O)?V:""),w=te(A);t==null||t(w);const{isCompleted:H,finalValue:N}=b(w);H?(f==null||f(N),F(c-1)):F(w.length),k==null||k(s)},xe=s=>{if(B==null||B(s),!T.some(({inputRef:r})=>r.current===s.relatedTarget)){const{isCompleted:r,finalValue:g}=b(a);d==null||d(g,r)}};return e.jsx(G,{display:"flex",gap:"20px",alignItems:"center",ref:l,className:`MuiOtpInput-Box ${m||""}`,...i,children:T.map(({character:s,inputRef:r},g)=>e.jsx($e,{autoFocus:u?g===0:!1,autoComplete:"one-time-code",value:s,inputRef:r,className:`MuiOtpInput-TextField MuiOtpInput-TextField-${g+1} ${oe||""}`,onPaste:de,onFocus:re,onChange:ue,onKeyDown:pe,onBlur:xe,placeholder:typeof L=="function"?L(g):L,...ce},g))})});function ze({name:n,...l}){const{control:a}=v();return e.jsx(C,{name:n,control:a,render:({field:c,fieldState:{error:u}})=>e.jsxs("div",{children:[e.jsx(Ue,{...c,autoFocus:!0,gap:1.5,length:6,TextFieldsProps:{error:!!u,placeholder:"-"},...l}),u&&e.jsx(R,{sx:{px:2},error:!0,children:u.message})]})})}ze.propTypes={name:o.string};function Ge({name:n,helperText:l,...a}){const{control:c}=v();return e.jsx(C,{name:n,control:c,render:({field:u,fieldState:{error:t}})=>e.jsxs("div",{children:[e.jsx($,{control:e.jsx(Fe,{...u,checked:u.value}),...a}),(!!t||l)&&e.jsx(R,{error:!!t,children:t?t==null?void 0:t.message:l})]})})}Ge.propTypes={helperText:o.string,name:o.string};function We({name:n,helperText:l,...a}){const{control:c,watch:u,setValue:t,formState:{isSubmitSuccessful:p}}=v(),f=u();return W.useEffect(()=>{f[n]==="<p><br></p>"&&t(n,"",{shouldValidate:!p})},[p,n,t,f]),e.jsx(C,{name:n,control:c,render:({field:h,fieldState:{error:m}})=>e.jsx(Re,{id:n,value:h.value,onChange:h.onChange,error:!!m,helperText:(!!m||l)&&e.jsx(R,{error:!!m,sx:{px:2},children:m?m==null?void 0:m.message:l}),...a})})}We.propTypes={helperText:o.string,name:o.string};function qe({name:n,helperText:l,...a}){const{control:c}=v();return e.jsx(C,{name:n,control:c,render:({field:u,fieldState:{error:t}})=>e.jsxs(e.Fragment,{children:[e.jsx(Te,{...u,valueLabelDisplay:"auto",...a}),(!!t||l)&&e.jsx(R,{error:!!t,children:t?t==null?void 0:t.message:l})]})})}qe.propTypes={helperText:o.string,name:o.string};function Je({name:n,helperText:l,type:a,...c}){const{control:u}=v();return e.jsx(C,{name:n,control:u,render:({field:t,fieldState:{error:p}})=>e.jsx(D,{...t,fullWidth:!0,type:a,value:a==="number"&&t.value===0?"":t.value,onChange:f=>{a==="number"?t.onChange(Number(f.target.value)):t.onChange(f.target.value)},error:!!p,helperText:p?p==null?void 0:p.message:l,...c})})}Je.propTypes={helperText:o.object,name:o.string,type:o.string};function Ke({row:n,name:l,label:a,options:c,spacing:u,helperText:t,...p}){const{control:f}=v(),h=a?`${l}-${a}`:"";return e.jsx(C,{name:l,control:f,render:({field:m,fieldState:{error:d}})=>e.jsxs(q,{component:"fieldset",children:[a&&e.jsx(le,{component:"legend",id:h,sx:{typography:"body2"},children:a}),e.jsx(Se,{...m,"aria-labelledby":h,row:n,...p,children:c.map(i=>e.jsx($,{value:i.value,control:e.jsx(we,{}),label:i.label,sx:{"&:not(:last-of-type)":{mb:u||0},...n&&{mr:0,"&:not(:last-of-type)":{mr:u||2}}}},i.value))}),(!!d||t)&&e.jsx(R,{error:!!d,sx:{mx:0},children:d?d==null?void 0:d.message:t})]})})}Ke.propTypes={helperText:o.string,label:o.string,name:o.string,options:o.array,row:o.bool,spacing:o.number};function Qe({name:n,label:l,type:a,helperText:c,placeholder:u,...t}){const{control:p,setValue:f}=v(),{multiple:h}=t;return e.jsx(C,{name:n,control:p,render:({field:m,fieldState:{error:d}})=>a==="country"?e.jsx(ee,{...m,id:`autocomplete-${n}`,autoHighlight:!h,disableCloseOnSelect:h,onChange:(i,x)=>f(n,x,{shouldValidate:!0}),renderOption:(i,x)=>{var b;const j=z(x);return j.label?W.createElement("li",{...i,key:j.label},e.jsx(U,{icon:`circle-flags:${(b=j.code)==null?void 0:b.toLowerCase()}`,sx:{mr:1}},j.label),j.label," (",j.code,") +",j.phone):null},renderInput:i=>{var b;const x=z(i.inputProps.value),j={...i,label:l,placeholder:u,error:!!d,helperText:d?d==null?void 0:d.message:c,inputProps:{...i.inputProps,autoComplete:"new-password"}};return h?e.jsx(D,{...j}):e.jsx(D,{...j,InputProps:{...i.InputProps,startAdornment:e.jsx(ge,{position:"start",sx:{...!x.code&&{display:"none"}},children:e.jsx(U,{icon:`circle-flags:${(b=x.code)==null?void 0:b.toLowerCase()}`,sx:{mr:-.5,ml:.5}})})}})},renderTags:(i,x)=>i.map((j,b)=>{var P;const k=z(j);return W.createElement(ae,{...x({index:b}),key:k.label,label:k.label,icon:e.jsx(U,{icon:`circle-flags:${(P=k.code)==null?void 0:P.toLowerCase()}`}),size:"small",variant:"soft"})}),...t}):e.jsx(ee,{...m,id:`autocomplete-${n}`,onChange:(i,x)=>f(n,x,{shouldValidate:!0}),renderInput:i=>e.jsx(D,{...i,label:l,placeholder:u,error:!!d,helperText:d?d==null?void 0:d.message:c,inputProps:{...i.inputProps,autoComplete:"new-password"}}),...t})})}Qe.propTypes={name:o.string,type:o.string,label:o.string,helperText:o.node,placeholder:o.string};function z(n){return{...he.filter(a=>a.label===n)[0]}}export{Je as R,ze as a,Ke as b,Ae as c,Qe as d,Pe as e,De as f,He as g,Ge as h,We as i,Ie as j,ke as k,qe as l};
