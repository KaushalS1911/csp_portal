import{cg as M,c as A,a as B,a5 as H,r as o,a7 as V,p as c,j as e,dw as S,e as m,C as _,f as b,R as U,S as z,H as q}from"./index-ylP9gOtX.js";import{u as W,R as K,h as Q,i as J,j as X,k as Y,l as Z,m as $}from"./product-shop-details-view-FFDG63V0.js";import"./_baseToString-NsyIlPy3.js";import"./index-9Plt95OV.js";import{E as k}from"./empty-content-pShBjnDz.js";import{C as ee}from"./confirm-dialog-cJHS76Pm.js";import{C as te}from"./custom-breadcrumbs-nwVkFrxi.js";import{G as f,D as oe,a as re,b as se,c as ie,d as le,e as ae}from"./DataGrid-F2aoQNb0.js";import{C as ne}from"./Card-ecWVyrcr.js";import"./index.esm-zJIoddKN.js";import"./form-provider-BePwGsaR.js";import"./yup-mXr7br9k.js";import"./rhf-autocomplete-Oo_pj7FO.js";import"./upload-avatar-p1mV0K83.js";import"./format-number-4qjwv98Z.js";import"./fade-LdTa7QD2.js";import"./file-thumbnail-v_vpdjZu.js";import"./index-aia48TT4.js";import"./image-Z_eQ9U-t.js";import"./TextField-nL73yr2I.js";import"./FormControl-2yV5rP3p.js";import"./isMuiElement-SI_eKqaz.js";import"./InputLabel-RKiYc6q9.js";import"./FormLabel-cbNQzjey.js";import"./Select-_rMe5vL_.js";import"./index-q81m-9gd.js";import"./Menu-Tm01f5kQ.js";import"./Checkbox-48k92ct7.js";import"./SwitchBase-iPcMGdah.js";import"./Chip-bKHDEzge.js";import"./FormControlLabel-Wp3NQ8oe.js";import"./FormGroup-H6gerepD.js";import"./Switch-PMXVVRTC.js";import"./editor-aS2o8UAE.js";import"./highlight-kZx-LDNs.js";import"./Slider-MYejY6Ng.js";import"./visuallyHidden-DVicuktI.js";import"./RadioGroup-NRE0RhDH.js";import"./Autocomplete-dTg6AscC.js";import"./Close-TBHe2aFb.js";import"./Grid2-4Cxolu1e.js";import"./CardHeader-VpZWNMY4.js";import"./LoadingButton-yaXiXIxn.js";import"./CircularProgress-f92RqFnU.js";import"./color-preview-FeyrDZEY.js";import"./Fab-1Rc6O6Hl.js";import"./Pagination-Y2qt7bEk.js";import"./FirstPage-O7c3I5o0.js";import"./Rating-4OTi69yN.js";import"./format-time-IsJsg76X.js";import"./Tabs-uw_-qHeT.js";import"./KeyboardArrowRight-Iau3j8JW.js";import"./sumBy-UtnlsTNT.js";import"./_baseIteratee-SWd0TUBs.js";import"./_baseSum-gu02AyRp.js";import"./DialogTitle-hOzIj-Yd.js";import"./dialogTitleClasses-MQ0ehrVy.js";import"./DialogContent-03g2-VNx.js";import"./DialogActions--bcAhgxi.js";import"./Skeleton-TLvuDQXm.js";import"./incrementer-button-r4xcstNj.js";import"./use-light-box-FjDYotIv.js";import"./carousel-arrow-index-nB98Gww4.js";import"./markdown-2wxhxQ8K.js";import"./ListItemIcon-iDBs-mVA.js";import"./ClickAwayListener-0GAPWA3R.js";import"./TablePagination-XgtPFnNO.js";const y=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],C={publish:[],stock:[]},de={category:!1},ce=["category","actions"];function me(){const{enqueueSnackbar:r}=M(),l=A(),s=B(),p=H(),{products:i,productsLoading:P}=W(),[a,h]=o.useState([]),[u,g]=o.useState(C),[n,D]=o.useState([]),[F,T]=o.useState(de);o.useEffect(()=>{i.length&&h(i)},[i]);const j=pe({inputData:a,filters:u}),O=!V(C,u),w=o.useCallback((t,d)=>{g(x=>({...x,[t]:d}))},[]),I=o.useCallback(()=>{g(C)},[]),G=o.useCallback(t=>{const d=a.filter(x=>x.id!==t);r("Delete success!"),h(d)},[r,a]),N=o.useCallback(()=>{const t=a.filter(d=>!n.includes(d.id));r("Delete success!"),h(t)},[r,n,a]),E=o.useCallback(t=>{s.push(c.dashboard.product.edit(t))},[s]),L=o.useCallback(t=>{s.push(c.dashboard.product.details(t))},[s]),R=[{field:"category",headerName:"Category",filterable:!1},{field:"name",headerName:"Product",flex:1,minWidth:360,hideable:!1,renderCell:t=>e.jsx(K,{params:t})},{field:"createdAt",headerName:"Create at",width:160,renderCell:t=>e.jsx(Q,{params:t})},{field:"inventoryType",headerName:"Stock",width:160,type:"singleSelect",valueOptions:S,renderCell:t=>e.jsx(J,{params:t})},{field:"price",headerName:"Price",width:140,editable:!0,renderCell:t=>e.jsx(X,{params:t})},{field:"publish",headerName:"Publish",width:110,type:"singleSelect",editable:!0,valueOptions:y,renderCell:t=>e.jsx(Y,{params:t})},{type:"actions",field:"actions",headerName:" ",align:"right",headerAlign:"right",width:80,sortable:!1,filterable:!1,disableColumnMenu:!0,getActions:t=>[e.jsx(f,{showInMenu:!0,icon:e.jsx(m,{icon:"solar:eye-bold"}),label:"View",onClick:()=>L(t.row.id)}),e.jsx(f,{showInMenu:!0,icon:e.jsx(m,{icon:"solar:pen-bold"}),label:"Edit",onClick:()=>E(t.row.id)}),e.jsx(f,{showInMenu:!0,icon:e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),label:"Delete",onClick:()=>{G(t.row.id)},sx:{color:"error.main"}})]}],v=()=>R.filter(t=>!ce.includes(t.field)).map(t=>t.field);return e.jsxs(e.Fragment,{children:[e.jsxs(_,{maxWidth:p.themeStretch?!1:"lg",sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsx(te,{heading:"List",links:[{name:"Dashboard",href:c.dashboard.root},{name:"Product",href:c.dashboard.product.root},{name:"List"}],action:e.jsx(b,{component:U,href:c.dashboard.product.new,variant:"contained",startIcon:e.jsx(m,{icon:"mingcute:add-line"}),children:"New Product"}),sx:{mb:{xs:3,md:5}}}),e.jsx(ne,{sx:{height:{xs:800,md:2},flexGrow:{md:1},display:{md:"flex"},flexDirection:{md:"column"}},children:e.jsx(oe,{checkboxSelection:!0,disableRowSelectionOnClick:!0,rows:j,columns:R,loading:P,getRowHeight:()=>"auto",pageSizeOptions:[5,10,25],initialState:{pagination:{paginationModel:{pageSize:10}}},onRowSelectionModelChange:t=>{D(t)},columnVisibilityModel:F,onColumnVisibilityModelChange:t=>T(t),slots:{toolbar:()=>e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsx(Z,{filters:u,onFilters:w,stockOptions:S,publishOptions:y}),e.jsx(se,{}),e.jsxs(z,{spacing:1,flexGrow:1,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[!!n.length&&e.jsxs(b,{size:"small",color:"error",startIcon:e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),onClick:l.onTrue,children:["Delete (",n.length,")"]}),e.jsx(ie,{}),e.jsx(le,{}),e.jsx(ae,{})]})]}),O&&e.jsx($,{filters:u,onFilters:w,onResetFilters:I,results:j.length,sx:{p:2.5,pt:0}})]}),noRowsOverlay:()=>e.jsx(k,{title:"No Data"}),noResultsOverlay:()=>e.jsx(k,{title:"No results found"})},slotProps:{columnsPanel:{getTogglableColumns:v}}})})]}),e.jsx(ee,{open:l.value,onClose:l.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",n.length," "]})," items?"]}),action:e.jsx(b,{variant:"contained",color:"error",onClick:()=>{N(),l.onFalse()},children:"Delete"})})]})}function pe({inputData:r,filters:l}){const{stock:s,publish:p}=l;return s.length&&(r=r.filter(i=>s.includes(i.inventoryType))),p.length&&(r=r.filter(i=>p.includes(i.publish))),r}function Pt(){return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsx("title",{children:" Dashboard: Product List"})}),e.jsx(me,{})]})}export{Pt as default};
