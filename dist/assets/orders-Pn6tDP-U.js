import{r as m,a5 as b,u as O,g as l,j as t,H as w,C as F,T as x,B as s,S as a}from"./index-ylP9gOtX.js";import{u as _,F as R}from"./form-provider-BePwGsaR.js";import{Q as z,B as h}from"./react-toastify.esm-hW4jB9tT.js";import{d as B,R as E}from"./rhf-autocomplete-Oo_pj7FO.js";import{G as n}from"./Grid2-4Cxolu1e.js";import{C as G}from"./Card-ecWVyrcr.js";import{L as H}from"./LoadingButton-yaXiXIxn.js";import"./upload-avatar-p1mV0K83.js";import"./format-number-4qjwv98Z.js";import"./fade-LdTa7QD2.js";import"./file-thumbnail-v_vpdjZu.js";import"./index-aia48TT4.js";import"./image-Z_eQ9U-t.js";import"./TextField-nL73yr2I.js";import"./FormControl-2yV5rP3p.js";import"./isMuiElement-SI_eKqaz.js";import"./InputLabel-RKiYc6q9.js";import"./FormLabel-cbNQzjey.js";import"./Select-_rMe5vL_.js";import"./index-q81m-9gd.js";import"./Menu-Tm01f5kQ.js";import"./Checkbox-48k92ct7.js";import"./SwitchBase-iPcMGdah.js";import"./Chip-bKHDEzge.js";import"./FormControlLabel-Wp3NQ8oe.js";import"./FormGroup-H6gerepD.js";import"./Switch-PMXVVRTC.js";import"./editor-aS2o8UAE.js";import"./highlight-kZx-LDNs.js";import"./Slider-MYejY6Ng.js";import"./visuallyHidden-DVicuktI.js";import"./RadioGroup-NRE0RhDH.js";import"./Autocomplete-dTg6AscC.js";import"./Close-TBHe2aFb.js";import"./CircularProgress-f92RqFnU.js";function ht(){const[u,f]=m.useState([]),j=b(),{vendor:c}=O(),g=()=>h.success("Order created"),d=e=>h.error(e);m.useEffect(()=>{y()},[]);function y(){l.get("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/commodity").then(e=>{var o;f((o=e.data)==null?void 0:o.data)})}const C=m.useMemo(()=>({csp_code:c.csp_code,commodity:"",quantity:""}),[]),i=_({defaultValues:C}),{handleSubmit:S}=i,p=S(async e=>{const o={...e,csp_code:c.csp_code,mode:"test",status:"0"};try{const r=await l.post("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/create_order",o);r.data.status=="201"?g():r.data.status=="400"&&d(r.data.message)}catch(r){d("Something went wrong"),console.error("Order creation error:",r)}});return t.jsxs(t.Fragment,{children:[t.jsx(w,{children:t.jsx("title",{children:" Dashboard | Order"})}),t.jsxs(F,{maxWidth:j.themeStretch?!1:"xl",children:[t.jsx(x,{variant:"h4",children:"Order"}),t.jsxs(s,{sx:{mt:5,width:1,height:320,borderRadius:2},children:[t.jsx(z,{}),t.jsx(R,{methods:i,onSubmit:p,children:t.jsxs(n,{container:!0,sx:{mt:"30px"},children:[t.jsx(n,{item:!0,md:4,children:t.jsx(s,{sx:{ml:{md:"60px",xs:"0"},mt:"60px"},children:t.jsxs(s,{sx:{mb:"30px",fontWeight:"600",fontSize:"18px"},children:["Create Order",t.jsx(x,{sx:{fontSize:"13px",color:"#637381"},children:"Create Order Input fields"})]})})}),t.jsxs(n,{item:!0,md:8,children:[t.jsx(G,{children:t.jsx(a,{spacing:3,sx:{p:3},children:t.jsx(a,{spacing:1.5,children:t.jsxs(s,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)"},children:[t.jsx(B,{name:"commodity",type:"commodity",label:"Commodity",placeholder:"Choose Commodity",fullWidth:!0,options:u.map(e=>e==null?void 0:e.commodity_name),getOptionLabel:e=>e}),t.jsx(E,{name:"quantity",label:"Quantity"})]})})})}),t.jsx(a,{alignItems:"flex-end",sx:{mt:3},children:t.jsx(H,{type:"submit",className:"button",loading:i.formState.isSubmitting,onClick:p,children:"Order"})})]})]})})]})]})]})}export{ht as default};
