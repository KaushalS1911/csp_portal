import{cg as U,a5 as k,a as D,c as L,r as i,e1 as A,a7 as B,p as g,j as t,C as E,f as j,R as I,e as P,w as N,a1 as O,e4 as _,bq as H,d as q,cp as z,e2 as W,H as V}from"./index-cs8KH1Gj.js";import{e as $,f as G,g as J}from"./profile-followers-sfd80u9B.js";import{C as K}from"./confirm-dialog-2jI2zAgO.js";import{C as M}from"./custom-breadcrumbs-xf4gSwnQ.js";import{u as Q,g as X,e as Y}from"./use-table-Oz6bJM4o.js";import{c as Z,a as ee,d as te,e as se,b as oe}from"./table-pagination-custom-kL214XXs.js";import{C as ae}from"./Card-M8rezznV.js";import{T as re,a as le}from"./Tabs-z1Y5XGJ8.js";import{T as ne,a as ie,b as de}from"./TableContainer-FCfxN62s.js";import"./index.esm-skc3IiOM.js";import"./form-provider-AB30yPNG.js";import"./yup-GNAImRWC.js";import"./format-number-DkNQnIoZ.js";import"./rhf-autocomplete-BqIl6E2I.js";import"./upload-avatar-ZcmlmDZJ.js";import"./fade-YsdWEJJe.js";import"./file-thumbnail-NE2uG7uc.js";import"./index-nuAYcRns.js";import"./image--etRdOrW.js";import"./TextField-z0heVHRm.js";import"./FormControl-aSSJzqHf.js";import"./isMuiElement-MbnxLTZm.js";import"./InputLabel-waUCNIWh.js";import"./FormLabel-LFvC5gak.js";import"./Select-xqyf6Rlf.js";import"./index-q81m-9gd.js";import"./Menu-gk9ZpIDp.js";import"./Checkbox-AiUxbF_6.js";import"./SwitchBase-PZN8fx1f.js";import"./Chip-y3BMGgXZ.js";import"./FormControlLabel-MUxj2wHe.js";import"./FormGroup-nEfyDjbV.js";import"./Switch-MKSYeegN.js";import"./editor-nhnT59he.js";import"./highlight-3QAqHvw2.js";import"./Slider-NQg_Rm46.js";import"./visuallyHidden-DVicuktI.js";import"./RadioGroup-fWybfjqF.js";import"./Autocomplete-yaQcgRwv.js";import"./Close-MW_tufCV.js";import"./Grid2-0IK39fyY.js";import"./LoadingButton-LNe3v39O.js";import"./CircularProgress-8U-eASlb.js";import"./DialogTitle-qgtaNWae.js";import"./dialogTitleClasses-TCv6NWT5.js";import"./DialogContent-J5aQOW70.js";import"./Alert-RCC6ZrSo.js";import"./DialogActions-QLTPVjqO.js";import"./TablePagination-TKKuccHp.js";import"./KeyboardArrowRight-SEABOkxc.js";import"./FirstPage-u-FDu5UE.js";import"./format-time-GAH0CY8i.js";import"./CardHeader-QV_NYi3u.js";import"./AvatarGroup-foOR0TA6.js";import"./Fab-S7HKeK8O.js";import"./use-light-box-Dmbs0PQf.js";import"./empty-content-XjJCMadM.js";const ce=[{value:"all",label:"All"},...W],me=[{id:"name",label:"Name"},{id:"phoneNumber",label:"Phone Number",width:180},{id:"company",label:"Company",width:220},{id:"role",label:"Role",width:180},{id:"status",label:"Status",width:100},{id:"",width:88}],w={name:"",role:[],status:"all"};function pe(){const{enqueueSnackbar:r}=U(),e=Q(),x=k(),m=D(),d=L(),[n,p]=i.useState(A),[o,c]=i.useState(w),a=he({inputData:n,comparator:X(e.order,e.orderBy),filters:o}),h=a.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),C=e.dense?56:76,f=!B(w,o),R=!a.length&&f||!a.length,u=i.useCallback((s,l)=>{e.onResetPage(),c(b=>({...b,[s]:l}))},[e]),S=i.useCallback(()=>{c(w)},[]),T=i.useCallback(s=>{const l=n.filter(b=>b.id!==s);r("Delete success!"),p(l),e.onUpdatePageDeleteRow(h.length)},[h.length,r,e,n]),v=i.useCallback(()=>{const s=n.filter(l=>!e.selected.includes(l.id));r("Delete success!"),p(s),e.onUpdatePageDeleteRows({totalRowsInPage:h.length,totalRowsFiltered:a.length})},[a.length,h.length,r,e,n]),F=i.useCallback(s=>{m.push(g.dashboard.user.edit(s))},[m]),y=i.useCallback((s,l)=>{u("status",l)},[u]);return t.jsxs(t.Fragment,{children:[t.jsxs(E,{maxWidth:x.themeStretch?!1:"lg",children:[t.jsx(M,{heading:"List",links:[{name:"Dashboard",href:g.dashboard.root},{name:"User",href:g.dashboard.user.root},{name:"List"}],action:t.jsx(j,{component:I,href:g.dashboard.user.new,variant:"contained",startIcon:t.jsx(P,{icon:"mingcute:add-line"}),children:"New User"}),sx:{mb:{xs:3,md:5}}}),t.jsxs(ae,{children:[t.jsx(re,{value:o.status,onChange:y,sx:{px:2.5,boxShadow:s=>`inset 0 -2px 0 0 ${N(s.palette.grey[500],.08)}`},children:ce.map(s=>t.jsx(le,{iconPosition:"end",value:s.value,label:s.label,icon:t.jsx(O,{variant:(s.value==="all"||s.value===o.status)&&"filled"||"soft",color:s.value==="active"&&"success"||s.value==="pending"&&"warning"||s.value==="banned"&&"error"||"default",children:["active","pending","banned","rejected"].includes(s.value)?n.filter(l=>l.status===s.value).length:n.length})},s.value))}),t.jsx($,{filters:o,onFilters:u,roleOptions:_}),f&&t.jsx(G,{filters:o,onFilters:u,onResetFilters:S,results:a.length,sx:{p:2.5,pt:0}}),t.jsxs(ne,{sx:{position:"relative",overflow:"unset"},children:[t.jsx(Z,{dense:e.dense,numSelected:e.selected.length,rowCount:a.length,onSelectAllRows:s=>e.onSelectAllRows(s,a.map(l=>l.id)),action:t.jsx(H,{title:"Delete",children:t.jsx(q,{color:"primary",onClick:d.onTrue,children:t.jsx(P,{icon:"solar:trash-bin-trash-bold"})})})}),t.jsx(z,{children:t.jsxs(ie,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[t.jsx(ee,{order:e.order,orderBy:e.orderBy,headLabel:me,rowCount:a.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:s=>e.onSelectAllRows(s,a.map(l=>l.id))}),t.jsxs(de,{children:[a.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(s=>t.jsx(J,{row:s,selected:e.selected.includes(s.id),onSelectRow:()=>e.onSelectRow(s.id),onDeleteRow:()=>T(s.id),onEditRow:()=>F(s.id)},s.id)),t.jsx(te,{height:C,emptyRows:Y(e.page,e.rowsPerPage,a.length)}),t.jsx(se,{notFound:R})]})]})})]}),t.jsx(oe,{count:a.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),t.jsx(K,{open:d.value,onClose:d.onFalse,title:"Delete",content:t.jsxs(t.Fragment,{children:["Are you sure want to delete ",t.jsxs("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:t.jsx(j,{variant:"contained",color:"error",onClick:()=>{v(),d.onFalse()},children:"Delete"})})]})}function he({inputData:r,comparator:e,filters:x}){const{name:m,status:d,role:n}=x,p=r.map((o,c)=>[o,c]);return p.sort((o,c)=>{const a=e(o[0],c[0]);return a!==0?a:o[1]-c[1]}),r=p.map(o=>o[0]),m&&(r=r.filter(o=>o.name.toLowerCase().indexOf(m.toLowerCase())!==-1)),d!=="all"&&(r=r.filter(o=>o.status===d)),n.length&&(r=r.filter(o=>n.includes(o.role))),r}function bt(){return t.jsxs(t.Fragment,{children:[t.jsx(V,{children:t.jsx("title",{children:" Dashboard: User List"})}),t.jsx(pe,{})]})}export{bt as default};
