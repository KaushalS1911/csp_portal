import{d4 as y,j as e,cp as T,y as t,ca as w,a1 as v,s as S,B as O,T as g,S as A,u as _,a5 as D,r as u,g as j,C as L,H as R}from"./index-ylP9gOtX.js";import{u as F,g as I}from"./use-table-n8u793S6.js";import{a as B,b as H,T as N}from"./table-pagination-custom-PMdOlWse.js";import{C as b}from"./Card-ecWVyrcr.js";import{C as E}from"./CardHeader-VpZWNMY4.js";import{T as G,a as W,b as q}from"./TableContainer-Hpqh9ELm.js";import{T as m}from"./TablePagination-XgtPFnNO.js";import{d as z}from"./format-number-4qjwv98Z.js";import"./chart-vpSmbkDt.js";import{G as o}from"./Grid2-4Cxolu1e.js";import"./empty-content-pShBjnDz.js";import"./Checkbox-48k92ct7.js";import"./SwitchBase-iPcMGdah.js";import"./FormControlLabel-Wp3NQ8oe.js";import"./Switch-PMXVVRTC.js";import"./KeyboardArrowRight-Iau3j8JW.js";import"./FirstPage-O7c3I5o0.js";import"./Select-_rMe5vL_.js";import"./index-q81m-9gd.js";import"./Menu-Tm01f5kQ.js";import"./isMuiElement-SI_eKqaz.js";function f({title:s,subheader:a,tableData:i,tableLabels:n,...x}){const r=F(),c=y({inputData:i||[],comparator:I(r.order,r.orderBy)});return e.jsxs(b,{...x,children:[e.jsx(E,{title:s,subheader:a,sx:{mb:3}}),e.jsx(G,{sx:{overflow:"unset"},children:e.jsx(T,{children:e.jsxs(W,{sx:{minWidth:680},children:[e.jsx(B,{headLabel:n}),e.jsx(q,{children:c.slice(r.page*r.rowsPerPage,r.page*r.rowsPerPage+r.rowsPerPage).map(p=>e.jsx(P,{row:p},p.id))})]})})}),e.jsx(H,{count:c.length,page:r.page,rowsPerPage:r.rowsPerPage,onPageChange:r.onChangePage,onRowsPerPageChange:r.onChangeRowsPerPage,dense:r.dense,onChangeDense:r.onChangeDense})]})}f.propTypes={subheader:t.string,tableData:t.array,tableLabels:t.array,title:t.string};function P({row:s}){return w(),e.jsx(e.Fragment,{children:e.jsxs(N,{children:[e.jsx(m,{children:s.id}),e.jsx(m,{children:s.commodity}),e.jsx(m,{children:s.quantity}),e.jsx(m,{children:e.jsx(v,{variant:"soft",color:s.status==="0"&&"warning"||"success",children:s.status==="0"?"Pending":"Paid"})})]})})}P.propTypes={row:t.object};function l({title:s,total:a,sx:i,...n}){return S(),e.jsx(b,{sx:{display:"flex",alignItems:"center",p:3,...i},...n,children:e.jsxs(O,{sx:{flexGrow:1},children:[e.jsx(g,{variant:"subtitle2",children:s}),e.jsx(A,{direction:"row",alignItems:"center",sx:{mt:2,mb:1}}),e.jsx(g,{variant:"h3",children:z(a)})]})})}l.propTypes={chart:t.shape({colors:t.array,series:t.array.isRequired,options:t.object}),percent:t.number,sx:t.object,title:t.string,total:t.number};function $({vendorCode:s}){const{vendor:a}=_(),i=D(),[n,x]=u.useState([]),[r,c]=u.useState({});u.useEffect(()=>{a.csp_code&&(C(),p())},[a]);function p(){j.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/${a.csp_code}/orders_stats`).then(h=>{var d;c((d=h.data)==null?void 0:d.data[0])})}function C(){j.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/${a.csp_code}/orders`).then(h=>{var d;x((d=h.data)==null?void 0:d.data)})}return e.jsx(L,{maxWidth:i.themeStretch?!1:"xl",children:e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{xs:12,md:3,children:e.jsx(l,{title:"Total Orders",total:r==null?void 0:r.total_orders})}),e.jsx(o,{xs:12,md:3,children:e.jsx(l,{title:"Orders Pending",total:r==null?void 0:r.placed_orders})}),e.jsx(o,{xs:12,md:3,children:e.jsx(l,{title:"Orders Accepted",total:r==null?void 0:r.accepted_orders})}),e.jsx(o,{xs:12,md:3,children:e.jsx(l,{title:"Orders Declined",total:r==null?void 0:r.declined_orders})}),e.jsx(o,{xs:12,lg:12,children:e.jsx(f,{title:"Orders",tableData:n,tableLabels:[{id:"id",label:"Order ID"},{id:"category",label:"Commodity"},{id:"price",label:"Quantity"},{id:"status",label:"Status"},{id:""}]})})]})})}function pe(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{children:e.jsx("title",{children:" NCCF CSP Portal "})}),e.jsx($,{})]})}export{pe as default};
