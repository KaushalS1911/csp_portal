import{a5 as L,u as R,r as l,g as p,j as e,H as E,C as A,T as c,B as n,S as O,f as q}from"./index-cs8KH1Gj.js";import{u as H,F as N}from"./form-provider-AB30yPNG.js";import{Q as U,B as h}from"./react-toastify.esm-nWnK002_.js";import{R as a,d}from"./rhf-autocomplete-BqIl6E2I.js";import{G as m}from"./Grid2-0IK39fyY.js";import{C as f}from"./Card-M8rezznV.js";import{L as M}from"./LoadingButton-LNe3v39O.js";import"./upload-avatar-ZcmlmDZJ.js";import"./format-number-DkNQnIoZ.js";import"./fade-YsdWEJJe.js";import"./file-thumbnail-NE2uG7uc.js";import"./index-nuAYcRns.js";import"./image--etRdOrW.js";import"./TextField-z0heVHRm.js";import"./FormControl-aSSJzqHf.js";import"./isMuiElement-MbnxLTZm.js";import"./InputLabel-waUCNIWh.js";import"./FormLabel-LFvC5gak.js";import"./Select-xqyf6Rlf.js";import"./index-q81m-9gd.js";import"./Menu-gk9ZpIDp.js";import"./Checkbox-AiUxbF_6.js";import"./SwitchBase-PZN8fx1f.js";import"./Chip-y3BMGgXZ.js";import"./FormControlLabel-MUxj2wHe.js";import"./FormGroup-nEfyDjbV.js";import"./Switch-MKSYeegN.js";import"./editor-nhnT59he.js";import"./highlight-3QAqHvw2.js";import"./Slider-NQg_Rm46.js";import"./visuallyHidden-DVicuktI.js";import"./RadioGroup-fWybfjqF.js";import"./Autocomplete-yaQcgRwv.js";import"./Close-MW_tufCV.js";import"./CircularProgress-8U-eASlb.js";function We(){const b=L(),{vendor:o}=R(),[s,g]=l.useState({}),[j,y]=l.useState([]),_=()=>h.success("User details updated successfully"),C=()=>h.error("Something went wrong"),[i,S]=l.useState(!0);l.useEffect(()=>{B(),v()},[o]);function B(){o.phone_number&&p.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080//nccf/csp_detail/${o.phone_number}`).then(t=>{var r;g((r=t==null?void 0:t.data)==null?void 0:r.data[0])}).catch(t=>console.log(t))}function v(){p.get("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/commodity").then(t=>{var r;y((r=t.data)==null?void 0:r.data)})}const W={address:"",commodity:"",contact_person:"",district:"",gst_number:"",milling_type:"",name:"",pan_number:"",phone_number:o.phone_number,pincode:"",quantity:"",state:"",village:""},u=H({defaultValues:W}),{reset:x,handleSubmit:I,formState:{isSubmitting:T}}=u;l.useEffect(()=>{s&&x({address:s.address||"",commodity:s.commodity||"",contact_person:s.contact_person||"",district:s.district||"",gst_number:s.gst_number||"",milling_type:s.milling_type||"",name:s.name||"",pan_number:s.pan_number||"",phone_number:o.phone_number,pincode:s.pincode||"",quantity:s.quantity||"",state:s.state||"",village:s.village||""})},[s,x,o]);const w=["Dry","Wet","Both"],F=["Gujarat","Delhi","Punjab"],G=["Amreli","Surendranagar","Dhrol"],P=["Surat","Bharuch","Rohini"],z=I(async t=>{const r={...t,csp_code:o.csp_code,mode:"test"};p.put("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/update_info",r).then(D=>{_()}).catch(D=>{C()})});return e.jsxs(e.Fragment,{children:[e.jsx(E,{children:e.jsx("title",{children:" Dashboard | Basic Info"})}),e.jsxs(A,{maxWidth:b.themeStretch?!1:"xl",children:[e.jsx(c,{variant:"h4",children:" Basic Information"}),e.jsx(n,{sx:{mt:5,width:1,height:320,borderRadius:2},children:e.jsxs(N,{methods:u,onSubmit:z,children:[e.jsx(U,{}),e.jsxs(m,{container:!0,children:[e.jsx(m,{item:!0,md:4,children:e.jsx(n,{sx:{ml:{md:"60px",xs:"0"},mt:"60px"},children:e.jsxs(n,{sx:{mb:"30px",mt:"10px",fontWeight:"600",fontSize:"18px"},children:["Basic Information",e.jsx(c,{sx:{fontSize:"13px",color:"#637381"},children:"Basic Information Input fields"})]})})}),e.jsx(m,{md:8,xs:12,item:!0,children:e.jsx(f,{sx:{p:3},children:e.jsxs(n,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:[e.jsx(a,{name:"name",label:"Full Name",disabled:i}),e.jsx(d,{name:"milling_type",type:"milling_type",label:"Milling Type",placeholder:"Choose Milling Type",fullWidth:!0,options:w.map(t=>t),getOptionLabel:t=>t,disabled:i}),e.jsx(d,{disabled:i,name:"commodity",type:"commodity",label:"Commodity",placeholder:"Choose Commodity",fullWidth:!0,options:j.map(t=>t==null?void 0:t.commodity_name),getOptionLabel:t=>t}),e.jsx(a,{name:"quantity",label:"Quantity",disabled:i}),e.jsx(a,{name:"contact_person",label:"Contact Person",disabled:i}),e.jsx(a,{name:"phone_number",label:"Phone Number",disabled:i}),e.jsx(a,{name:"pan_number",label:"Pan Number",disabled:i}),e.jsx(a,{name:"gst_number",label:"GST Number",disabled:i})]})})})]}),e.jsxs(m,{container:!0,sx:{mt:"80px"},children:[e.jsx(m,{item:!0,md:4,children:e.jsx(n,{sx:{ml:{md:"60px",xs:"0"},mt:"60px"},children:e.jsxs(n,{sx:{mb:"30px",mt:"10px",fontWeight:"600",fontSize:"18px"},children:["Address of Proposed Rice Mill Premises",e.jsx(c,{sx:{fontSize:"13px",color:"#637381"},children:"Basic Information Input fields"})]})})}),e.jsx(m,{md:8,xs:12,item:!0,children:e.jsx(f,{sx:{p:3},children:e.jsxs(n,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},children:[e.jsx(n,{gridColumn:{xs:"span 1",sm:"span 2",md:"span 4"},children:e.jsx(a,{name:"address",label:"Address",fullWidth:!0,disabled:i})}),e.jsx(n,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:e.jsx(d,{name:"district",type:"district",label:"District",placeholder:"Choose District",fullWidth:!0,options:G.map(t=>t),getOptionLabel:t=>t,disabled:i})}),e.jsx(n,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:e.jsx(d,{name:"state",type:"state",label:"State",placeholder:"Choose Your State",fullWidth:!0,options:F.map(t=>t),getOptionLabel:t=>t,disabled:i})}),e.jsx(n,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:e.jsx(a,{name:"pincode",label:"Pin Code",fullWidth:!0,disabled:i})}),e.jsx(n,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:e.jsx(d,{disabled:i,name:"village",type:"village",label:"Village",placeholder:"Choose Your Village",fullWidth:!0,options:P.map(t=>t),getOptionLabel:t=>t})})]})})})]}),e.jsx(O,{display:"flex",alignItems:"flex-end",sx:{mt:3},children:e.jsxs(n,{children:[e.jsx(q,{color:"inherit",variant:"outlined",sx:{mr:"20px"},onClick:()=>S(!1),children:"Edit"}),e.jsx(M,{type:"submit",loading:T,variant:"contained",children:"Save"})]})})]})})]})]})}export{We as default};
