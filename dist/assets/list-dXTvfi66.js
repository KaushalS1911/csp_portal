import{a5 as w,a6 as U,c as A,r as n,a7 as G,j as r,C as L,T as Q,S as O,p as q,a8 as B,a9 as H,aa as v,ab as V,ac as W,H as Y}from"./index-cs8KH1Gj.js";import{u as z,a as J,P as K,C as M,b as X,c as Z,d as $,e as D}from"./product-shop-details-view-QSf1jwwd.js";import{o as x}from"./orderBy-NP5Mcp7K.js";import{u as tt}from"./use-debounce-L-IljVpL.js";import{E as rt}from"./empty-content-XjJCMadM.js";import"./index-UdAIyAOi.js";import"./confirm-dialog-2jI2zAgO.js";import"./custom-breadcrumbs-xf4gSwnQ.js";import"./index.esm-skc3IiOM.js";import"./form-provider-AB30yPNG.js";import"./yup-GNAImRWC.js";import"./rhf-autocomplete-BqIl6E2I.js";import"./upload-avatar-ZcmlmDZJ.js";import"./format-number-DkNQnIoZ.js";import"./fade-YsdWEJJe.js";import"./file-thumbnail-NE2uG7uc.js";import"./index-nuAYcRns.js";import"./image--etRdOrW.js";import"./TextField-z0heVHRm.js";import"./FormControl-aSSJzqHf.js";import"./isMuiElement-MbnxLTZm.js";import"./InputLabel-waUCNIWh.js";import"./FormLabel-LFvC5gak.js";import"./Select-xqyf6Rlf.js";import"./index-q81m-9gd.js";import"./Menu-gk9ZpIDp.js";import"./Checkbox-AiUxbF_6.js";import"./SwitchBase-PZN8fx1f.js";import"./Chip-y3BMGgXZ.js";import"./FormControlLabel-MUxj2wHe.js";import"./FormGroup-nEfyDjbV.js";import"./Switch-MKSYeegN.js";import"./editor-nhnT59he.js";import"./highlight-3QAqHvw2.js";import"./Slider-NQg_Rm46.js";import"./visuallyHidden-DVicuktI.js";import"./RadioGroup-fWybfjqF.js";import"./Autocomplete-yaQcgRwv.js";import"./Close-MW_tufCV.js";import"./Grid2-0IK39fyY.js";import"./Card-M8rezznV.js";import"./CardHeader-QV_NYi3u.js";import"./LoadingButton-LNe3v39O.js";import"./CircularProgress-8U-eASlb.js";import"./color-preview-AAb99oTO.js";import"./Fab-S7HKeK8O.js";import"./Pagination-v0nFvUiL.js";import"./FirstPage-u-FDu5UE.js";import"./Rating-4utkdRgf.js";import"./format-time-GAH0CY8i.js";import"./Tabs-z1Y5XGJ8.js";import"./KeyboardArrowRight-SEABOkxc.js";import"./sumBy-4AhZco5O.js";import"./_baseIteratee-KsFiz7iq.js";import"./_baseToString-WXJc698Q.js";import"./_baseSum-gu02AyRp.js";import"./DialogTitle-qgtaNWae.js";import"./dialogTitleClasses-TCv6NWT5.js";import"./DialogContent-J5aQOW70.js";import"./DialogActions-QLTPVjqO.js";import"./Skeleton-A6jQXjxo.js";import"./incrementer-button-CpQgflZ2.js";import"./use-light-box-Dmbs0PQf.js";import"./carousel-arrow-index-SpPRRttl.js";import"./markdown-vVk34PJL.js";import"./_baseEach-u09ndht5.js";const R={gender:[],colors:[],rating:"",category:"all",priceRange:[0,200]};function et(){const t=w(),g=U(),o=A(),[c,d]=n.useState("featured"),[u,h]=n.useState(""),m=tt(u),[s,p]=n.useState(R),{products:e,productsLoading:l,productsEmpty:a}=z(),{searchResults:j,searchLoading:F}=J(m),C=n.useCallback((i,N)=>{p(k=>({...k,[i]:N}))},[]),P=n.useCallback(()=>{p(R)},[]),S=ot({inputData:e,filters:s,sortBy:c}),f=!G(R,s),y=!S.length&&f,T=n.useCallback(i=>{d(i)},[]),b=n.useCallback(i=>{h(i)},[]),I=r.jsxs(O,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[r.jsx(Z,{query:m,results:j,onSearch:b,loading:F,hrefItem:i=>q.product.details(i)}),r.jsxs(O,{direction:"row",spacing:1,flexShrink:0,children:[r.jsx($,{open:o.value,onOpen:o.onTrue,onClose:o.onFalse,filters:s,onFilters:C,canReset:f,onResetFilters:P,colorOptions:B,ratingOptions:H,genderOptions:v,categoryOptions:["all",...V]}),r.jsx(D,{sort:c,onSort:T,sortOptions:W})]})]}),_=r.jsx(K,{filters:s,onFilters:C,canReset:f,onResetFilters:P,results:S.length}),E=r.jsx(rt,{filled:!0,title:"No Data",sx:{py:10}});return r.jsxs(L,{maxWidth:t.themeStretch?!1:"lg",sx:{mb:15},children:[r.jsx(M,{totalItems:g.totalItems}),r.jsx(Q,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Shop"}),r.jsxs(O,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[I,f&&_]}),(y||a)&&E,r.jsx(X,{products:S,loading:l})]})}function ot({inputData:t,filters:g,sortBy:o}){const{gender:c,category:d,colors:u,priceRange:h,rating:m}=g,s=h[0],p=h[1];return o==="featured"&&(t=x(t,["totalSold"],["desc"])),o==="newest"&&(t=x(t,["createdAt"],["desc"])),o==="priceDesc"&&(t=x(t,["price"],["desc"])),o==="priceAsc"&&(t=x(t,["price"],["asc"])),c.length&&(t=t.filter(e=>c.includes(e.gender))),d!=="all"&&(t=t.filter(e=>e.category===d)),u.length&&(t=t.filter(e=>e.colors.some(l=>u.includes(l)))),(s!==0||p!==200)&&(t=t.filter(e=>e.price>=s&&e.price<=p)),m&&(t=t.filter(e=>{const l=a=>a==="up4Star"?4:a==="up3Star"?3:a==="up2Star"?2:1;return e.totalRatings>l(m)})),t}function xr(){return r.jsxs(r.Fragment,{children:[r.jsx(Y,{children:r.jsx("title",{children:" Product: Shop"})}),r.jsx(et,{})]})}export{xr as default};
