import{cg as M,c as A,a as B,a5 as H,r as o,a7 as V,p as c,j as e,dw as S,e as m,C as _,f as b,R as U,S as z,H as q}from"./index-cs8KH1Gj.js";import{u as W,R as K,h as Q,i as J,j as X,k as Y,l as Z,m as $}from"./product-shop-details-view-QSf1jwwd.js";import"./_baseToString-WXJc698Q.js";import"./index-UdAIyAOi.js";import{E as k}from"./empty-content-XjJCMadM.js";import{C as ee}from"./confirm-dialog-2jI2zAgO.js";import{C as te}from"./custom-breadcrumbs-xf4gSwnQ.js";import{G as f,D as oe,a as re,b as se,c as ie,d as le,e as ae}from"./DataGrid-jw2aItaa.js";import{C as ne}from"./Card-M8rezznV.js";import"./index.esm-skc3IiOM.js";import"./form-provider-AB30yPNG.js";import"./yup-GNAImRWC.js";import"./rhf-autocomplete-BqIl6E2I.js";import"./upload-avatar-ZcmlmDZJ.js";import"./format-number-DkNQnIoZ.js";import"./fade-YsdWEJJe.js";import"./file-thumbnail-NE2uG7uc.js";import"./index-nuAYcRns.js";import"./image--etRdOrW.js";import"./TextField-z0heVHRm.js";import"./FormControl-aSSJzqHf.js";import"./isMuiElement-MbnxLTZm.js";import"./InputLabel-waUCNIWh.js";import"./FormLabel-LFvC5gak.js";import"./Select-xqyf6Rlf.js";import"./index-q81m-9gd.js";import"./Menu-gk9ZpIDp.js";import"./Checkbox-AiUxbF_6.js";import"./SwitchBase-PZN8fx1f.js";import"./Chip-y3BMGgXZ.js";import"./FormControlLabel-MUxj2wHe.js";import"./FormGroup-nEfyDjbV.js";import"./Switch-MKSYeegN.js";import"./editor-nhnT59he.js";import"./highlight-3QAqHvw2.js";import"./Slider-NQg_Rm46.js";import"./visuallyHidden-DVicuktI.js";import"./RadioGroup-fWybfjqF.js";import"./Autocomplete-yaQcgRwv.js";import"./Close-MW_tufCV.js";import"./Grid2-0IK39fyY.js";import"./CardHeader-QV_NYi3u.js";import"./LoadingButton-LNe3v39O.js";import"./CircularProgress-8U-eASlb.js";import"./color-preview-AAb99oTO.js";import"./Fab-S7HKeK8O.js";import"./Pagination-v0nFvUiL.js";import"./FirstPage-u-FDu5UE.js";import"./Rating-4utkdRgf.js";import"./format-time-GAH0CY8i.js";import"./Tabs-z1Y5XGJ8.js";import"./KeyboardArrowRight-SEABOkxc.js";import"./sumBy-4AhZco5O.js";import"./_baseIteratee-KsFiz7iq.js";import"./_baseSum-gu02AyRp.js";import"./DialogTitle-qgtaNWae.js";import"./dialogTitleClasses-TCv6NWT5.js";import"./DialogContent-J5aQOW70.js";import"./DialogActions-QLTPVjqO.js";import"./Skeleton-A6jQXjxo.js";import"./incrementer-button-CpQgflZ2.js";import"./use-light-box-Dmbs0PQf.js";import"./carousel-arrow-index-SpPRRttl.js";import"./markdown-vVk34PJL.js";import"./ListItemIcon-VJ4maq9u.js";import"./ClickAwayListener-N9NJZq1_.js";import"./TablePagination-TKKuccHp.js";const y=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],C={publish:[],stock:[]},de={category:!1},ce=["category","actions"];function me(){const{enqueueSnackbar:r}=M(),l=A(),s=B(),p=H(),{products:i,productsLoading:P}=W(),[a,h]=o.useState([]),[u,g]=o.useState(C),[n,D]=o.useState([]),[F,T]=o.useState(de);o.useEffect(()=>{i.length&&h(i)},[i]);const j=pe({inputData:a,filters:u}),O=!V(C,u),w=o.useCallback((t,d)=>{g(x=>({...x,[t]:d}))},[]),I=o.useCallback(()=>{g(C)},[]),G=o.useCallback(t=>{const d=a.filter(x=>x.id!==t);r("Delete success!"),h(d)},[r,a]),N=o.useCallback(()=>{const t=a.filter(d=>!n.includes(d.id));r("Delete success!"),h(t)},[r,n,a]),E=o.useCallback(t=>{s.push(c.dashboard.product.edit(t))},[s]),L=o.useCallback(t=>{s.push(c.dashboard.product.details(t))},[s]),R=[{field:"category",headerName:"Category",filterable:!1},{field:"name",headerName:"Product",flex:1,minWidth:360,hideable:!1,renderCell:t=>e.jsx(K,{params:t})},{field:"createdAt",headerName:"Create at",width:160,renderCell:t=>e.jsx(Q,{params:t})},{field:"inventoryType",headerName:"Stock",width:160,type:"singleSelect",valueOptions:S,renderCell:t=>e.jsx(J,{params:t})},{field:"price",headerName:"Price",width:140,editable:!0,renderCell:t=>e.jsx(X,{params:t})},{field:"publish",headerName:"Publish",width:110,type:"singleSelect",editable:!0,valueOptions:y,renderCell:t=>e.jsx(Y,{params:t})},{type:"actions",field:"actions",headerName:" ",align:"right",headerAlign:"right",width:80,sortable:!1,filterable:!1,disableColumnMenu:!0,getActions:t=>[e.jsx(f,{showInMenu:!0,icon:e.jsx(m,{icon:"solar:eye-bold"}),label:"View",onClick:()=>L(t.row.id)}),e.jsx(f,{showInMenu:!0,icon:e.jsx(m,{icon:"solar:pen-bold"}),label:"Edit",onClick:()=>E(t.row.id)}),e.jsx(f,{showInMenu:!0,icon:e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),label:"Delete",onClick:()=>{G(t.row.id)},sx:{color:"error.main"}})]}],v=()=>R.filter(t=>!ce.includes(t.field)).map(t=>t.field);return e.jsxs(e.Fragment,{children:[e.jsxs(_,{maxWidth:p.themeStretch?!1:"lg",sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsx(te,{heading:"List",links:[{name:"Dashboard",href:c.dashboard.root},{name:"Product",href:c.dashboard.product.root},{name:"List"}],action:e.jsx(b,{component:U,href:c.dashboard.product.new,variant:"contained",startIcon:e.jsx(m,{icon:"mingcute:add-line"}),children:"New Product"}),sx:{mb:{xs:3,md:5}}}),e.jsx(ne,{sx:{height:{xs:800,md:2},flexGrow:{md:1},display:{md:"flex"},flexDirection:{md:"column"}},children:e.jsx(oe,{checkboxSelection:!0,disableRowSelectionOnClick:!0,rows:j,columns:R,loading:P,getRowHeight:()=>"auto",pageSizeOptions:[5,10,25],initialState:{pagination:{paginationModel:{pageSize:10}}},onRowSelectionModelChange:t=>{D(t)},columnVisibilityModel:F,onColumnVisibilityModelChange:t=>T(t),slots:{toolbar:()=>e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsx(Z,{filters:u,onFilters:w,stockOptions:S,publishOptions:y}),e.jsx(se,{}),e.jsxs(z,{spacing:1,flexGrow:1,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[!!n.length&&e.jsxs(b,{size:"small",color:"error",startIcon:e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),onClick:l.onTrue,children:["Delete (",n.length,")"]}),e.jsx(ie,{}),e.jsx(le,{}),e.jsx(ae,{})]})]}),O&&e.jsx($,{filters:u,onFilters:w,onResetFilters:I,results:j.length,sx:{p:2.5,pt:0}})]}),noRowsOverlay:()=>e.jsx(k,{title:"No Data"}),noResultsOverlay:()=>e.jsx(k,{title:"No results found"})},slotProps:{columnsPanel:{getTogglableColumns:v}}})})]}),e.jsx(ee,{open:l.value,onClose:l.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",n.length," "]})," items?"]}),action:e.jsx(b,{variant:"contained",color:"error",onClick:()=>{N(),l.onFalse()},children:"Delete"})})]})}function pe({inputData:r,filters:l}){const{stock:s,publish:p}=l;return s.length&&(r=r.filter(i=>s.includes(i.inventoryType))),p.length&&(r=r.filter(i=>p.includes(i.publish))),r}function Pt(){return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsx("title",{children:" Dashboard: Product List"})}),e.jsx(me,{})]})}export{Pt as default};
