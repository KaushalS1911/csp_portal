import{a5 as w,a6 as U,c as A,r as n,a7 as G,j as r,C as L,T as Q,S as O,p as q,a8 as B,a9 as H,aa as v,ab as V,ac as W,H as Y}from"./index-ylP9gOtX.js";import{u as z,a as J,P as K,C as M,b as X,c as Z,d as $,e as D}from"./product-shop-details-view-FFDG63V0.js";import{o as x}from"./orderBy-jZ3Uzxp5.js";import{u as tt}from"./use-debounce-wTbmT-1j.js";import{E as rt}from"./empty-content-pShBjnDz.js";import"./index-9Plt95OV.js";import"./confirm-dialog-cJHS76Pm.js";import"./custom-breadcrumbs-nwVkFrxi.js";import"./index.esm-zJIoddKN.js";import"./form-provider-BePwGsaR.js";import"./yup-mXr7br9k.js";import"./rhf-autocomplete-Oo_pj7FO.js";import"./upload-avatar-p1mV0K83.js";import"./format-number-4qjwv98Z.js";import"./fade-LdTa7QD2.js";import"./file-thumbnail-v_vpdjZu.js";import"./index-aia48TT4.js";import"./image-Z_eQ9U-t.js";import"./TextField-nL73yr2I.js";import"./FormControl-2yV5rP3p.js";import"./isMuiElement-SI_eKqaz.js";import"./InputLabel-RKiYc6q9.js";import"./FormLabel-cbNQzjey.js";import"./Select-_rMe5vL_.js";import"./index-q81m-9gd.js";import"./Menu-Tm01f5kQ.js";import"./Checkbox-48k92ct7.js";import"./SwitchBase-iPcMGdah.js";import"./Chip-bKHDEzge.js";import"./FormControlLabel-Wp3NQ8oe.js";import"./FormGroup-H6gerepD.js";import"./Switch-PMXVVRTC.js";import"./editor-aS2o8UAE.js";import"./highlight-kZx-LDNs.js";import"./Slider-MYejY6Ng.js";import"./visuallyHidden-DVicuktI.js";import"./RadioGroup-NRE0RhDH.js";import"./Autocomplete-dTg6AscC.js";import"./Close-TBHe2aFb.js";import"./Grid2-4Cxolu1e.js";import"./Card-ecWVyrcr.js";import"./CardHeader-VpZWNMY4.js";import"./LoadingButton-yaXiXIxn.js";import"./CircularProgress-f92RqFnU.js";import"./color-preview-FeyrDZEY.js";import"./Fab-1Rc6O6Hl.js";import"./Pagination-Y2qt7bEk.js";import"./FirstPage-O7c3I5o0.js";import"./Rating-4OTi69yN.js";import"./format-time-IsJsg76X.js";import"./Tabs-uw_-qHeT.js";import"./KeyboardArrowRight-Iau3j8JW.js";import"./sumBy-UtnlsTNT.js";import"./_baseIteratee-SWd0TUBs.js";import"./_baseToString-NsyIlPy3.js";import"./_baseSum-gu02AyRp.js";import"./DialogTitle-hOzIj-Yd.js";import"./dialogTitleClasses-MQ0ehrVy.js";import"./DialogContent-03g2-VNx.js";import"./DialogActions--bcAhgxi.js";import"./Skeleton-TLvuDQXm.js";import"./incrementer-button-r4xcstNj.js";import"./use-light-box-FjDYotIv.js";import"./carousel-arrow-index-nB98Gww4.js";import"./markdown-2wxhxQ8K.js";import"./_baseEach-nNuSVvs8.js";const R={gender:[],colors:[],rating:"",category:"all",priceRange:[0,200]};function et(){const t=w(),g=U(),o=A(),[c,d]=n.useState("featured"),[u,h]=n.useState(""),m=tt(u),[s,p]=n.useState(R),{products:e,productsLoading:l,productsEmpty:a}=z(),{searchResults:j,searchLoading:F}=J(m),C=n.useCallback((i,N)=>{p(k=>({...k,[i]:N}))},[]),P=n.useCallback(()=>{p(R)},[]),S=ot({inputData:e,filters:s,sortBy:c}),f=!G(R,s),y=!S.length&&f,T=n.useCallback(i=>{d(i)},[]),b=n.useCallback(i=>{h(i)},[]),I=r.jsxs(O,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[r.jsx(Z,{query:m,results:j,onSearch:b,loading:F,hrefItem:i=>q.product.details(i)}),r.jsxs(O,{direction:"row",spacing:1,flexShrink:0,children:[r.jsx($,{open:o.value,onOpen:o.onTrue,onClose:o.onFalse,filters:s,onFilters:C,canReset:f,onResetFilters:P,colorOptions:B,ratingOptions:H,genderOptions:v,categoryOptions:["all",...V]}),r.jsx(D,{sort:c,onSort:T,sortOptions:W})]})]}),_=r.jsx(K,{filters:s,onFilters:C,canReset:f,onResetFilters:P,results:S.length}),E=r.jsx(rt,{filled:!0,title:"No Data",sx:{py:10}});return r.jsxs(L,{maxWidth:t.themeStretch?!1:"lg",sx:{mb:15},children:[r.jsx(M,{totalItems:g.totalItems}),r.jsx(Q,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Shop"}),r.jsxs(O,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[I,f&&_]}),(y||a)&&E,r.jsx(X,{products:S,loading:l})]})}function ot({inputData:t,filters:g,sortBy:o}){const{gender:c,category:d,colors:u,priceRange:h,rating:m}=g,s=h[0],p=h[1];return o==="featured"&&(t=x(t,["totalSold"],["desc"])),o==="newest"&&(t=x(t,["createdAt"],["desc"])),o==="priceDesc"&&(t=x(t,["price"],["desc"])),o==="priceAsc"&&(t=x(t,["price"],["asc"])),c.length&&(t=t.filter(e=>c.includes(e.gender))),d!=="all"&&(t=t.filter(e=>e.category===d)),u.length&&(t=t.filter(e=>e.colors.some(l=>u.includes(l)))),(s!==0||p!==200)&&(t=t.filter(e=>e.price>=s&&e.price<=p)),m&&(t=t.filter(e=>{const l=a=>a==="up4Star"?4:a==="up3Star"?3:a==="up2Star"?2:1;return e.totalRatings>l(m)})),t}function xr(){return r.jsxs(r.Fragment,{children:[r.jsx(Y,{children:r.jsx("title",{children:" Product: Shop"})}),r.jsx(et,{})]})}export{xr as default};
